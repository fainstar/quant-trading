# 股票量化交易系統

## 專案概述

這是一個基於 Python 的股票量化交易系統，結合了數據獲取、特徵工程、機器學習模型和交易訊號生成，幫助投資者做出更加數據驅動的投資決策。系統使用樸素貝葉斯分類器預測股票未來趨勢，並根據預測結果生成買入、賣出或持有的交易訊號。

## 主要功能

- **數據獲取**：自動從 Yahoo Finance 獲取歷史股價數據
- **特徵工程**：計算和分析 20+ 種技術指標，如 RSI、MACD、移動平均等
- **機器學習預測**：使用自定義樸素貝葉斯分類器預測未來股價趨勢
- **交易訊號生成**：基於未來 5 天價格變化預測生成買入、賣出或持有的交易訊號
- **回測分析**：模擬歷史交易結果，評估策略表現並生成績效圖表
- **Discord 報告推送**：自動將交易訊號和分析結果推送至 Discord 頻道
- **網頁介面**：提供便捷的系統管理和結果查看界面
- **自動化排程**：支持設定每日執行時間，自動運行分析流程

## 快速開始

1. 安裝依賴套件：
   ```
   pip install -r requirements.txt
   ```

2. 啟動 Web 介面：
   ```
   python web_interface.py
   ```
   然後在瀏覽器中訪問 `http://localhost:5000`

3. 在 Web 介面中配置：
   - 添加您感興趣的股票代碼
   - 設定歷史數據年份
   - 可選配置 Discord Webhook URL

4. 選擇您要分析的股票並點擊執行

5. 查看結果和歷史記錄

## 使用 Docker

您可以使用以下命令通過 Docker 快速部署系統：

```
docker pull oomaybeoo/stock-trading-system:latest
docker run -d -p 5000:5000 -v ./data:/app/data -v ./config:/app/config -v ./log:/app/log oomaybeoo/stock-trading-system:latest
```

## 專案結構

```
├── src/
│   └── quant_trading/         # 核心模組
│       ├── features.py        # 特徵工程計算
│       ├── fetch.py           # 股票數據獲取
│       ├── predict.py         # 模型訓練和預測
│       ├── pretidy.py         # 數據預處理
│       ├── reporting.py       # 結果報告生成
│       └── rolling.py         # 時間窗口處理
├── test/                      # 測試和實驗腳本
├── config/                    # 配置文件
├── data/                      # 數據存儲
├── log/                       # 執行日誌
├── templates/                 # Web 介面模板
├── web_interface.py           # Web 應用主程序
└── requirements.txt           # 依賴套件列表
```

## 特色

- **高度模組化**：系統設計為可擴展架構，便於維護和擴展
- **三狀態訊號系統**：不僅提供買入和賣出訊號，還包括持有建議
- **信心值指標**：每個交易訊號都附帶信心值，幫助評估預測的可靠性
- **數據可視化**：回測結果包含年度收益和累計收益圖表
- **彈性配置**：可調整各種參數以適應不同的交易風格和風險偏好
- **自動化排程**：支持設定每日執行時間，無需手動操作
- **完整的回測系統**：考慮了交易成本、滑點等實際交易因素
- **安全容器化**：Docker 映像設計遵循最佳安全實踐

## 環境要求

- Python 3.11+
- 依賴套件：
  - pandas 2.2.0+
  - numpy 1.26.4+
  - Flask 3.0.2+
  - scikit-learn 1.5.1+
  - yfinance 0.2.38+
  - matplotlib 3.8.3+

## 證照與免責聲明

本專案僅供教育和研究目的使用。投資股票市場有風險，使用本系統產生的交易訊號進行實際投資決策，風險自負。使用者須遵守所在地區的金融法規。

---

© 2025 股票量化交易系統 | 版本 1.1